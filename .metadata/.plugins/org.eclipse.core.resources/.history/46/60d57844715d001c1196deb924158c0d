package com.banks;

public class Account implements AccountIf {

  private String accountName;      //예금주명
  private String accountNumber; //계좌번호
  private int balance;               //잔액
  
  //개설 가능한 계좌수 한도
  public static final int OPEN_ACCOUNT_LIMIT = 5;
  public static final Account[] accounts 
     = new Account[OPEN_ACCOUNT_LIMIT];
  
  public static final int ACCOUNT_NUM_SIZE = 3; //계좌번호 3자리
  public static final int ONE_TIME_MONEY_LIMIT = 20_000; //1회 입금한도
  public static final int DEPOSIT_MONEY_LIMIT = 50_000;  //예치금 한도
  
  public static final int NOT_FOUND = -1;
  
  private static int cnt;               //개설된 계좌갯수 카운트
  private static int accountNum;   //계좌번호 카운트
  
  public Account() {
  	super();
  }
  
  private Account(String accountName) {
    //개설 가능한 계좌수 체크
    if(cnt == OPEN_ACCOUNT_LIMIT) {
       throw new IllegalStateException("개설 가능 계좌수 초과!");
    }
    
    //동명이인 체크      
    if(existAccountName(accountName)) {
       throw new IllegalArgumentException("동명이인이 존재합니다!");
    }
    
    this.accountName = accountName;
    
    //계좌번호 생성
    this.accountNumber = createAccountNumber(++accountNum);
    accounts[cnt++] = this;
  }


	@Override
	public void createNewAccount(String name) {
		// TODO Auto-generated method stub
		
	}
	@Override
	public void deleteAccount(String accountNumber) {
		// TODO Auto-generated method stub
		
	}
	@Override
	public void deposit(String accountNumber, int money) {
		// TODO Auto-generated method stub
		
	}
	@Override
	public void withdraw(String accountNumber, int money) {
		// TODO Auto-generated method stub
		
	}
	@Override
	public void printAccount(String accountNumber) {
		// TODO Auto-generated method stub
		
	}
	@Override
	public void printAllAccount() {
		// TODO Auto-generated method stub
		
	}
  //계좌번호 생성
  private String createAccountNumber(int accountNum) {
     String zero = "";
     String number = String.valueOf(accountNum);
     for(int i=1; i<=ACCOUNT_NUM_SIZE-number.length(); i++) {
        zero += "0";
     }
     
     return zero + accountNum;
  }
  //동명이인 체크
  private boolean existAccountName(String accountName) {
     boolean existAccountName = false;
     for(int i=0; i<cnt; i++) {
        if(accounts[i].accountName.equals(accountName)) {
           existAccountName = true;
           break;
        }
     }
     return existAccountName;
  }
}
